<!DOCTYPE html>
<html lang="ja">
	<header>
		<meta charset="UTF-8">
		<title>Hello World!</title>
		<style>
			.photostack > *{
				position: absolute;
				top: 0;
				left: 0;
				list-style-type: none;
			}
			.container {
				position: relative;
				padding: 0;
				margin: 0;
				margin-top: 100px;
				margin-right: auto;
				margin-left: auto;
				max-width: 350px;
			}
			img {
				margin-top:10%;
				margin-right: auto;
				margin-left: auto;
				width: 100%;
				height: auto;
			}
		</style>
	</header>
	<body>
		<div class="container">
			<ul class="photostack">
				<li><img src="imgs/6polaroidFullstack.jpg"></li>
				<li><img src="imgs/5polaroidWebClass.jpg"></li>
				<li><img src="imgs/4polaroidEElife.jpg"></li>
				<li><img src="imgs/3polaroidGroup.jpg"></li>
				<li><img src="imgs/2polaroidSemiPortrait.jpg"></li>
				<li><img src="imgs/1polaroidKjerag.jpg"></li>
				
			</ul>
		</div>

		<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
		<script>
			var randNum = function (a, b) {
		        return (Math.random() * (b - a + 1)) + a;
		    }

		    var getPrefix = function(){
		    	var userAgent = window.navigator.userAgent.toLowerCase();
		    	if(userAgent.indexOf("msie") != -1){
		    		return "-ms-";
		    	}else if(userAgent.indexOf("chrome") != -1 || userAgent.indexOf("safari") != -1){
		    		return "-webkit-"
		    	}else if(userAgent.indexOf("firefox") != -1){
		    		return "-moz-";
		    	}else if(userAgent.indexOf("opera") != -1){
		    		return "-o-";
		    	}else{
		    		return "";
		    	}
		    }

		    var def = {
		    	top:40,
		    	left:500,
		    	degFrom:-25,
		    	degTo:15,
		    	animation:"fade",
		    	animationSpeed:10,
		    	timespan:0,
		    	auto:false,
		    	preventClick:false
		    }

			$(function(){
				var children = $('.photostack').children();
				var browser = getPrefix();
				var zIndex = 0;
				children.each(function() {
					var child = $(this);
					var rand = randNum(def.degFrom,def.degTo);
					child.css(browser + "transform","rotate("+rand+"deg)");
					child.css("z-index",zIndex);
					zIndex++;
				});
				children.each(function() {
					var max = 0;
					$(this).click(function(e) {
						// increment everyone's z-index
						children.each(function() {
							var zIndex = parseInt($(this).css("z-index"));
							zIndex++;
							$(this).css("z-index",zIndex);
							if (zIndex > max) max = zIndex;
						});
						// filter out the one being pushed to the bottom
						var pushChild = children.filter(function() {
							return $(this).css("z-index") == max;
						});
						pushChild.animate({
								opacity:0
							}, def.animationSpeed)
							.queue(function(next){
								pushChild.css("z-index",0);
								next();
							})
							.animate({opacity:1},def.animationSpeed)
							.queue(function(next){
								next();
							});
						}) //end this.click
					}) // end children.each()
				})
		</script>
	</body>
	
</html>